<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get historical market data — coin_history • geckor</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get historical market data — coin_history" />
<meta property="og:description" content="Retrieves market data for a coin for the last n days" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geckor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/current-data.html">Current market data</a>
    </li>
    <li>
      <a href="../articles/historical-data.html">Historical market data</a>
    </li>
    <li>
      <a href="../articles/supported-currencies-and-exchanges.html">Supported coins, base currencies, and exchanges</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/next-game-solutions/geckor/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get historical market data</h1>
    <small class="dont-index">Source: <a href='https://github.com/next-game-solutions/geckor/blob/master/R/coin_history.R'><code>R/coin_history.R</code></a></small>
    <div class="hidden name"><code>coin_history.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieves market data for a coin for the last <em>n</em> days</p>
    </div>

    <pre class="usage"><span class='fu'>coin_history</span><span class='op'>(</span><span class='va'>coin_id</span>, <span class='va'>vs_currency</span>, <span class='va'>days</span>, interval <span class='op'>=</span> <span class='cn'>NULL</span>, max_attempts <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>coin_id</th>
      <td><p>(character): ID of the coin of interest. An
up-to-date list of supported coins and their IDs can be retrieved
with the <code><a href='supported_coins.html'>supported_coins()</a></code> function.</p></td>
    </tr>
    <tr>
      <th>vs_currency</th>
      <td><p>(character): name of the base currency to
express the price in. An up-to-date list of supported currencies (both
fiat and cryptocurrencies) can be obtained with the <code><a href='supported_currencies.html'>supported_currencies()</a></code>
function. If an unsupported <code>vs_currency</code> is requested, the call will
fail with the respective error message.</p></td>
    </tr>
    <tr>
      <th>days</th>
      <td><p>(numeric or <code>"max"</code>): number of days to look back.
If <code>days = "max"</code>, the entire available history for <code>coin_id</code> will be
retrieved. Depending on the value of <code>days</code>, the time interval used to
present the data will differ - see "Details".</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>(character or <code>NULL</code>): time interval used to present the data.
The only currently supported interval is <code>daily</code>. Defaults to <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>max_attempts</th>
      <td><p>(double, positive): specifies the
maximum number of attempts to call the CoinGecko API (e.g., if
the first call fails for some reason). Additional attempts are
implemented with an exponential backoff. Defaults to 3.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with the following columns:</p><ul>
<li><p><code>timestamp</code> (POSIXct);</p></li>
<li><p><code>coin_id</code> (character): coin ID;</p></li>
<li><p><code>vs_currency</code> (character): same as the argument <code>vs_currency</code>;</p></li>
<li><p><code>price</code> (double): coin price, as of <code>timestamp</code>;</p></li>
<li><p><code>total_volume</code> (double): a 24 h rolling-window trading volume, as
of <code>timestamp</code>;</p></li>
<li><p><code>market_cap</code> (double): market capitalisation, as of <code>timestamp</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If <code>days = 1</code> and <code>interval = NULL</code>, the data will be returned for
every few minutes (typically 3-8 minutes). If <code>days</code> is between 2 and 90
(inclusive) and <code>interval = NULL</code>, an (approximately) hourly time step will
be used. Daily data are used for <code>days</code> above 90. If <code>interval = "daily"</code>,
daily data will be used irrespective of the value of <code>days</code>.</p>
<p>This function is based on the public
<a href='https://www.coingecko.com/api/documentations/v3'>CoinGecko API</a>,
which has a limit of 50 calls per minute. Please
keep this limit in mind when developing your applications.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'>coin_history</span><span class='op'>(</span>coin_id <span class='op'>=</span> <span class='st'>"bitcoin"</span>, vs_currency <span class='op'>=</span> <span class='st'>"usd"</span>, days <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 721 x 6</span>
#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> 2021-06-29 <span style='color: #949494;'>12:23:38</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>729. <span style='text-decoration: underline;'>33</span>384<span style='text-decoration: underline;'>839</span>884. <span style='text-decoration: underline;'>669</span>156<span style='text-decoration: underline;'>220</span>940.
#&gt; <span style='color: #BCBCBC;'> 2</span> 2021-06-29 <span style='color: #949494;'>12:02:35</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>669. <span style='text-decoration: underline;'>33</span>095<span style='text-decoration: underline;'>224</span>117. <span style='text-decoration: underline;'>668</span>603<span style='text-decoration: underline;'>462</span>428.
#&gt; <span style='color: #BCBCBC;'> 3</span> 2021-06-29 <span style='color: #949494;'>11:03:04</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>750. <span style='text-decoration: underline;'>32</span>573<span style='text-decoration: underline;'>828</span>247. <span style='text-decoration: underline;'>670</span>116<span style='text-decoration: underline;'>373</span>487.
#&gt; <span style='color: #BCBCBC;'> 4</span> 2021-06-29 <span style='color: #949494;'>10:01:18</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>305. <span style='text-decoration: underline;'>31</span>819<span style='text-decoration: underline;'>761</span>493. <span style='text-decoration: underline;'>661</span>780<span style='text-decoration: underline;'>725</span>343.
#&gt; <span style='color: #BCBCBC;'> 5</span> 2021-06-29 <span style='color: #949494;'>09:01:30</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>174. <span style='text-decoration: underline;'>32</span>446<span style='text-decoration: underline;'>664</span>092. <span style='text-decoration: underline;'>659</span>294<span style='text-decoration: underline;'>360</span>610.
#&gt; <span style='color: #BCBCBC;'> 6</span> 2021-06-29 <span style='color: #949494;'>08:00:28</span> bitcoin usd         <span style='text-decoration: underline;'>34</span>980. <span style='text-decoration: underline;'>32</span>488<span style='text-decoration: underline;'>822</span>315. <span style='text-decoration: underline;'>655</span>682<span style='text-decoration: underline;'>920</span>427.
#&gt; <span style='color: #BCBCBC;'> 7</span> 2021-06-29 <span style='color: #949494;'>07:01:32</span> bitcoin usd         <span style='text-decoration: underline;'>35</span>270. <span style='text-decoration: underline;'>32</span>907<span style='text-decoration: underline;'>363</span>767. <span style='text-decoration: underline;'>660</span>693<span style='text-decoration: underline;'>065</span>036.
#&gt; <span style='color: #BCBCBC;'> 8</span> 2021-06-29 <span style='color: #949494;'>06:02:13</span> bitcoin usd         <span style='text-decoration: underline;'>34</span>776. <span style='text-decoration: underline;'>32</span>237<span style='text-decoration: underline;'>919</span>728. <span style='text-decoration: underline;'>651</span>457<span style='text-decoration: underline;'>474</span>451.
#&gt; <span style='color: #BCBCBC;'> 9</span> 2021-06-29 <span style='color: #949494;'>05:01:05</span> bitcoin usd         <span style='text-decoration: underline;'>34</span>981. <span style='text-decoration: underline;'>32</span>393<span style='text-decoration: underline;'>707</span>236. <span style='text-decoration: underline;'>655</span>702<span style='text-decoration: underline;'>350</span>600.
#&gt; <span style='color: #BCBCBC;'>10</span> 2021-06-29 <span style='color: #949494;'>04:02:59</span> bitcoin usd         <span style='text-decoration: underline;'>34</span>647. <span style='text-decoration: underline;'>31</span>922<span style='text-decoration: underline;'>071</span>332. <span style='text-decoration: underline;'>649</span>433<span style='text-decoration: underline;'>960</span>604.
#&gt; <span style='color: #949494;'># … with 711 more rows</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sergey Mastitsky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


