<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Historical market data • geckor</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Historical market data">
<meta property="og:description" content="geckor">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geckor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/current-data.html">Current market data</a>
    </li>
    <li>
      <a href="../articles/historical-data.html">Historical market data</a>
    </li>
    <li>
      <a href="../articles/supported-currencies-and-exchanges.html">Supported coins, base currencies, and exchanges</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/next-game-solutions/geckor/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="historical-data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Historical market data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/next-game-solutions/geckor/blob/master/vignettes/historical-data.Rmd"><code>vignettes/historical-data.Rmd</code></a></small>
      <div class="hidden name"><code>historical-data.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/next-game-solutions/geckor">geckor</a></span><span class="op">)</span>
<span class="co">#&gt; R client for the CoinGecko API</span>
<span class="co">#&gt; Developed by Next Game Solutions (http://nextgamesolutions.com)</span></code></pre></div>
<p>There are several functions in <code>geckor</code> that can retrieve historical market data for cryptocurrencies. All of these functions have the “<code>coin_history</code>” prefix in their names. In all of the examples described below, we will be collecting historical data for Bitcoin.</p>
<p>Coin-specific market data for a given historical date can be obtained using the <code><a href="../reference/coin_history_snapshot.html">coin_history_snapshot()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history_snapshot.html">coin_history_snapshot</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span>,
  vs_currencies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"usd"</span>, <span class="st">"eur"</span>, <span class="st">"gbp"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 2 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 2.27 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 5.16 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; All calls to https://api.coingecko.com/api/v3/simple/supported_vs_currencies failed</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Error: The following base currencies are not currently supported:</span>
<span class="co">#&gt; * usd</span>
<span class="co">#&gt; * eur</span>
<span class="co">#&gt; * gbp</span></code></pre></div>
<p>The <code><a href="../reference/coin_history_range.html">coin_history_range()</a></code> function can be used to query a range of historical dates (specified by the <code>from</code> and <code>to</code> arguments, which expect POSIXct timestamps). Granularity of the returned data depends on the requested range. Hourly data will be retrieved for periods of up to 90 days, and daily data for periods that are longer than 90 days:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Range of less than 1 day:</span>
<span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 10:00:10"</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 20:45:10"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 1.15 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 3.5 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Failed to call https://api.coingecko.com/api/v3/simple/supported_vs_currencies</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Retrying after 3.91 seconds...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; All calls to https://api.coingecko.com/api/v3/simple/supported_vs_currencies failed</span>
<span class="co">#&gt; Too Many Requests (RFC 6585) (HTTP 429).</span>
<span class="co">#&gt; Error: The following base currencies are not currently supported:</span>
<span class="co">#&gt; * usd</span>

<span class="co"># Range of &gt;90 days:</span>
<span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-05-01 00:00:00"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 121 × 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price  total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-01-01 00:00:00 bitcoin usd         29022.  43503516563. 539438036436.</span>
<span class="co">#&gt;  2 2021-01-02 00:00:00 bitcoin usd         29352.  34089717988. 545593282215.</span>
<span class="co">#&gt;  3 2021-01-03 00:00:00 bitcoin usd         32164.  57273436641. 597887713054.</span>
<span class="co">#&gt;  4 2021-01-04 00:00:00 bitcoin usd         33008. 178894068361. 613616917626.</span>
<span class="co">#&gt;  5 2021-01-05 00:00:00 bitcoin usd         31516.  74657165356. 585726270249.</span>
<span class="co">#&gt;  6 2021-01-06 00:00:00 bitcoin usd         34082.  67420500716. 633651671519.</span>
<span class="co">#&gt;  7 2021-01-07 00:00:00 bitcoin usd         36934.  71027195898. 682743683563.</span>
<span class="co">#&gt;  8 2021-01-08 00:00:00 bitcoin usd         39547.  78642959829. 735339707368.</span>
<span class="co">#&gt;  9 2021-01-09 00:00:00 bitcoin usd         40816.  82846468856. 758971014787.</span>
<span class="co">#&gt; 10 2021-01-10 00:00:00 bitcoin usd         40297.  55921808672. 749347201463.</span>
<span class="co">#&gt; # … with 111 more rows</span></code></pre></div>
<p>To retrieve historical data from the last <em>n</em> days only, use the <code><a href="../reference/coin_history.html">coin_history()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">7</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 169 × 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-10-24 21:12:17 bitcoin usd         61315. 29447515431.    1.16e12</span>
<span class="co">#&gt;  2 2021-10-24 22:00:44 bitcoin usd         60922. 29684835949.    1.15e12</span>
<span class="co">#&gt;  3 2021-10-24 23:04:50 bitcoin usd         61201. 29967545906.    1.15e12</span>
<span class="co">#&gt;  4 2021-10-25 00:09:58 bitcoin usd         61120. 29215432184.    1.15e12</span>
<span class="co">#&gt;  5 2021-10-25 01:11:00 bitcoin usd         62287. 30833319892.    1.15e12</span>
<span class="co">#&gt;  6 2021-10-25 02:14:13 bitcoin usd         62088. 31168154086.    1.17e12</span>
<span class="co">#&gt;  7 2021-10-25 03:10:57 bitcoin usd         62311. 31299276642.    1.17e12</span>
<span class="co">#&gt;  8 2021-10-25 04:09:12 bitcoin usd         62282. 31620325214.    1.17e12</span>
<span class="co">#&gt;  9 2021-10-25 05:04:47 bitcoin usd         62115. 31549501172.    1.17e12</span>
<span class="co">#&gt; 10 2021-10-25 06:00:55 bitcoin usd         62160. 31786443800.    1.17e12</span>
<span class="co">#&gt; # … with 159 more rows</span></code></pre></div>
<p>In addition to numeric values, the <code>days</code> argument also accepts a character value <code>"max"</code>, which results in retrieving the entire existing history of market data for a coin (<em>please note:</em> querying the entire history can take some time):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="st">"max"</span>
<span class="op">)</span>
<span class="co">#&gt; Warning: Missing values found in column(s)</span>
<span class="co">#&gt; * market_cap</span>
<span class="co">#&gt; # A tibble: 3,107 × 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price total_volume market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013-04-28 00:00:00 bitcoin usd         135.             0 1500517590</span>
<span class="co">#&gt;  2 2013-04-29 00:00:00 bitcoin usd         142.             0 1575032004</span>
<span class="co">#&gt;  3 2013-04-30 00:00:00 bitcoin usd         135.             0 1501657493</span>
<span class="co">#&gt;  4 2013-05-01 00:00:00 bitcoin usd         117              0 1298951550</span>
<span class="co">#&gt;  5 2013-05-02 00:00:00 bitcoin usd         103.             0 1148667722</span>
<span class="co">#&gt;  6 2013-05-03 00:00:00 bitcoin usd          91.0            0 1011066494</span>
<span class="co">#&gt;  7 2013-05-04 00:00:00 bitcoin usd         111.             0 1236351844</span>
<span class="co">#&gt;  8 2013-05-05 00:00:00 bitcoin usd         117.             0 1298377788</span>
<span class="co">#&gt;  9 2013-05-06 00:00:00 bitcoin usd         118.             0 1315992304</span>
<span class="co">#&gt; 10 2013-05-07 00:00:00 bitcoin usd         106.             0 1183766500</span>
<span class="co">#&gt; # … with 3,097 more rows</span></code></pre></div>
<p>Notice the different data granularity in the last two examples. Generally, if <code>days = 1</code> the data will be presented for approximately every 3-8 minutes. If <code>days</code> is between 2 and 90 (inclusive), an hourly time step will be used. Daily data are used for <code>days</code> above 90. One can use the <code>interval</code> argument to control this granularity (by default, <code>interval = NULL</code>). However, at the moment the only value it accepts is <code>"daily"</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Within-day data, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">1</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 × 6</span>
<span class="co">#&gt;   timestamp           coin_id vs_currency  price total_volume market_cap</span>
<span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1 2021-10-31 00:00:00 bitcoin usd         61837. 31810216330.    1.17e12</span>
<span class="co">#&gt; 2 2021-10-31 20:38:40 bitcoin usd         61095. 32834880268.    1.15e12</span>

<span class="co"># Less than 90 days, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">10</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 11 × 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-10-22 00:00:00 bitcoin usd         62541. 48709960686.    1.18e12</span>
<span class="co">#&gt;  2 2021-10-23 00:00:00 bitcoin usd         61029. 40766460605.    1.15e12</span>
<span class="co">#&gt;  3 2021-10-24 00:00:00 bitcoin usd         61572. 28505039148.    1.16e12</span>
<span class="co">#&gt;  4 2021-10-25 00:00:00 bitcoin usd         61173. 29982535557.    1.15e12</span>
<span class="co">#&gt;  5 2021-10-26 00:00:00 bitcoin usd         63228. 30852852368.    1.19e12</span>
<span class="co">#&gt;  6 2021-10-27 00:00:00 bitcoin usd         60604. 33233702858.    1.14e12</span>
<span class="co">#&gt;  7 2021-10-28 00:00:00 bitcoin usd         58641. 43976252157.    1.11e12</span>
<span class="co">#&gt;  8 2021-10-29 00:00:00 bitcoin usd         60768. 52318597557.    1.15e12</span>
<span class="co">#&gt;  9 2021-10-30 00:00:00 bitcoin usd         62283. 38648967245.    1.18e12</span>
<span class="co">#&gt; 10 2021-10-31 00:00:00 bitcoin usd         61837. 31810216330.    1.17e12</span>
<span class="co">#&gt; 11 2021-10-31 20:08:09 bitcoin usd         60727. 32540047491.    1.15e12</span>

<span class="co"># More than 90 days, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">100</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 101 × 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-24 00:00:00 bitcoin usd         33456. 22937379735. 627747173675.</span>
<span class="co">#&gt;  2 2021-07-25 00:00:00 bitcoin usd         34214. 22120323672. 642012590041.</span>
<span class="co">#&gt;  3 2021-07-26 00:00:00 bitcoin usd         35456. 20929083221. 664681184169.</span>
<span class="co">#&gt;  4 2021-07-27 00:00:00 bitcoin usd         37282. 53550491998. 701921012035.</span>
<span class="co">#&gt;  5 2021-07-28 00:00:00 bitcoin usd         39077. 36401287454. 732311951673.</span>
<span class="co">#&gt;  6 2021-07-29 00:00:00 bitcoin usd         40031. 41369107423. 751371299911.</span>
<span class="co">#&gt;  7 2021-07-30 00:00:00 bitcoin usd         39978. 28717414113. 750407963580.</span>
<span class="co">#&gt;  8 2021-07-31 00:00:00 bitcoin usd         41936. 35530501783. 786531956384.</span>
<span class="co">#&gt;  9 2021-08-01 00:00:00 bitcoin usd         41754. 28437941447. 784039345926.</span>
<span class="co">#&gt; 10 2021-08-02 00:00:00 bitcoin usd         39915. 28555173662. 747403845432.</span>
<span class="co">#&gt; # … with 91 more rows</span></code></pre></div>
<p>The open-high-low-close (<a href="https://en.wikipedia.org/wiki/Open-high-low-close_chart">OHLC</a>) data characterise within-date and between-date price movements of a financial asset. In <code>geckor</code>, this type of data can be retrieved using the <code><a href="../reference/coin_history_ohlc.html">coin_history_ohlc()</a></code> function, which has the same arguments as <code><a href="../reference/coin_history.html">coin_history()</a></code>, except for not having the <code>interval</code> argument. Granularity of the retrieved data (i.e. candle’s body) depends on the value of <code>days</code> as follows:</p>
<ul>
<li><p>1 day: 30 minutes</p></li>
<li><p>7 - 30 days: 4 hours</p></li>
<li><p>31 and above: 4 days</p></li>
</ul>
<p>The only values currently accepted by the <code>days</code> argument are 1, 7, 14, 30, 90, 180, 365 and <code>"max"</code>. Here are some examples:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 30-minutes granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">1</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 49 × 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-10-30 20:30:00 bitcoin usd             61955.     61955.    61953.</span>
<span class="co">#&gt;  2 2021-10-30 21:00:00 bitcoin usd             61978.     61979.    61889.</span>
<span class="co">#&gt;  3 2021-10-30 21:30:00 bitcoin usd             61801.     61801.    61697.</span>
<span class="co">#&gt;  4 2021-10-30 22:00:00 bitcoin usd             61658.     61758.    61618.</span>
<span class="co">#&gt;  5 2021-10-30 22:30:00 bitcoin usd             61692.     61692.    61481.</span>
<span class="co">#&gt;  6 2021-10-30 23:00:00 bitcoin usd             61555.     61700.    61372.</span>
<span class="co">#&gt;  7 2021-10-30 23:30:00 bitcoin usd             61721.     61962.    61721.</span>
<span class="co">#&gt;  8 2021-10-31 00:00:00 bitcoin usd             61632.     61863.    61632.</span>
<span class="co">#&gt;  9 2021-10-31 00:30:00 bitcoin usd             62013.     62597.    62013.</span>
<span class="co">#&gt; 10 2021-10-31 01:00:00 bitcoin usd             62386.     62415.    62350.</span>
<span class="co">#&gt; # … with 39 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-hours granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">7</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 43 × 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-10-25 00:00:00 bitcoin usd             61315.     61315.    60922.</span>
<span class="co">#&gt;  2 2021-10-25 04:00:00 bitcoin usd             61120.     62311.    61120.</span>
<span class="co">#&gt;  3 2021-10-25 08:00:00 bitcoin usd             62282.     62470.    62115.</span>
<span class="co">#&gt;  4 2021-10-25 12:00:00 bitcoin usd             62991.     63081.    62991.</span>
<span class="co">#&gt;  5 2021-10-25 16:00:00 bitcoin usd             63071.     63684.    62864.</span>
<span class="co">#&gt;  6 2021-10-25 20:00:00 bitcoin usd             63894.     63917.    63355.</span>
<span class="co">#&gt;  7 2021-10-26 00:00:00 bitcoin usd             63038.     63333.    62892.</span>
<span class="co">#&gt;  8 2021-10-26 04:00:00 bitcoin usd             63228.     63267.    63034.</span>
<span class="co">#&gt;  9 2021-10-26 08:00:00 bitcoin usd             63153.     63153.    62675.</span>
<span class="co">#&gt; 10 2021-10-26 12:00:00 bitcoin usd             63031.     63238.    62930.</span>
<span class="co">#&gt; # … with 33 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-days granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">90</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 24 × 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-08-03 00:00:00 bitcoin usd             39279.     39279.    39279.</span>
<span class="co">#&gt;  2 2021-08-07 00:00:00 bitcoin usd             38368.     42802.    38368.</span>
<span class="co">#&gt;  3 2021-08-11 00:00:00 bitcoin usd             44648.     46311     43753.</span>
<span class="co">#&gt;  4 2021-08-15 00:00:00 bitcoin usd             45652.     47717.    44495.</span>
<span class="co">#&gt;  5 2021-08-19 00:00:00 bitcoin usd             47025      47025     44534.</span>
<span class="co">#&gt;  6 2021-08-23 00:00:00 bitcoin usd             46745.     49251.    46745.</span>
<span class="co">#&gt;  7 2021-08-27 00:00:00 bitcoin usd             49519.     49519.    47229.</span>
<span class="co">#&gt;  8 2021-08-31 00:00:00 bitcoin usd             49083.     49083.    47124.</span>
<span class="co">#&gt;  9 2021-09-03 00:00:00 bitcoin usd             47335.     49339.    47335.</span>
<span class="co">#&gt; 10 2021-09-07 00:00:00 bitcoin usd             49935.     52740.    49935.</span>
<span class="co">#&gt; # … with 14 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-days granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="st">"max"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 811 × 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013-04-30 00:00:00 bitcoin usd               135.       142.     135. </span>
<span class="co">#&gt;  2 2013-05-03 00:00:00 bitcoin usd               117        117       91.0</span>
<span class="co">#&gt;  3 2013-05-07 00:00:00 bitcoin usd               111.       118.     106. </span>
<span class="co">#&gt;  4 2013-05-11 00:00:00 bitcoin usd               113.       119.     113. </span>
<span class="co">#&gt;  5 2013-05-15 00:00:00 bitcoin usd               115.       117.     114. </span>
<span class="co">#&gt;  6 2013-05-19 00:00:00 bitcoin usd               116.       124.     116. </span>
<span class="co">#&gt;  7 2013-05-23 00:00:00 bitcoin usd               123.       126.     123. </span>
<span class="co">#&gt;  8 2013-05-27 00:00:00 bitcoin usd               132.       135.     129. </span>
<span class="co">#&gt;  9 2013-05-31 00:00:00 bitcoin usd               129.       132.     127. </span>
<span class="co">#&gt; 10 2013-06-03 00:00:00 bitcoin usd               129.       129.     121. </span>
<span class="co">#&gt; # … with 801 more rows, and 1 more variable: price_close &lt;dbl&gt;</span></code></pre></div>
<p>As of v0.2.0 of the package, all of the <code>coin_history_*</code> functions can retrieve data for multiple coins (up to 30) in one call. All one needs to do for that is pass a vector of coin IDs to the <code>coin_id</code> argument. In the following example, we collect market data from the last 2 days for Bitcoin, Cardano and Polkadot:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"bitcoin"</span>, <span class="st">"cardano"</span>, <span class="st">"polkadot"</span><span class="op">)</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">2</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 9 × 6</span>
<span class="co">#&gt;   timestamp           coin_id  vs_currency    price total_volume market_cap</span>
<span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1 2021-10-30 00:00:00 bitcoin  usd         62283.   38648967245.    1.18e12</span>
<span class="co">#&gt; 2 2021-10-31 00:00:00 bitcoin  usd         61837.   31810216330.    1.17e12</span>
<span class="co">#&gt; 3 2021-10-31 20:08:09 bitcoin  usd         60727.   32540047491.    1.15e12</span>
<span class="co">#&gt; 4 2021-10-30 00:00:00 cardano  usd             2.02  2105358110.    6.45e10</span>
<span class="co">#&gt; 5 2021-10-31 00:00:00 cardano  usd             1.95  1583695724.    6.26e10</span>
<span class="co">#&gt; 6 2021-10-31 20:35:12 cardano  usd             1.96  1918268793.    6.25e10</span>
<span class="co">#&gt; 7 2021-10-30 00:00:00 polkadot usd            44.1   2174026709.    4.60e10</span>
<span class="co">#&gt; 8 2021-10-31 00:00:00 polkadot usd            42.7    921954043.    4.46e10</span>
<span class="co">#&gt; 9 2021-10-31 20:35:30 polkadot usd            42.5   1182910259.    4.42e10</span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sergey Mastitsky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
