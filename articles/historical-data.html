<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Historical market data • geckor</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Historical market data">
<meta property="og:description" content="geckor">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geckor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/current-data.html">Current market data</a>
    </li>
    <li>
      <a href="../articles/historical-data.html">Historical market data</a>
    </li>
    <li>
      <a href="../articles/supported-currencies-and-exchanges.html">Supported coins, base currencies, and exchanges</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/next-game-solutions/geckor/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="historical-data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Historical market data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/next-game-solutions/geckor/blob/master/vignettes/historical-data.Rmd"><code>vignettes/historical-data.Rmd</code></a></small>
      <div class="hidden name"><code>historical-data.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/next-game-solutions/geckor">geckor</a></span><span class="op">)</span>
<span class="co">#&gt; R client for the CoinGecko API</span>
<span class="co">#&gt; Developed by Next Game Solutions (http://nextgamesolutions.com)</span></code></pre></div>
<p>There are several functions in <code>geckor</code> that can retrieve historical market data for cryptocurrencies. All of these functions have the “<code>coin_history</code>” prefix in their names. In all of the examples described below, we will be collecting historical data for Bitcoin.</p>
<p>Coin-specific market data for a given historical date can be obtained using the <code><a href="../reference/coin_history_snapshot.html">coin_history_snapshot()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history_snapshot.html">coin_history_snapshot</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span>,
  vs_currencies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"usd"</span>, <span class="st">"eur"</span>, <span class="st">"gbp"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 3 x 8</span>
<span class="co">#&gt;   coin_id symbol name    date       vs_currency  price   market_cap total_volume</span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt; 1 bitcoin btc    Bitcoin 2021-01-01 eur         23759.      4.42e11 35613370771.</span>
<span class="co">#&gt; 2 bitcoin btc    Bitcoin 2021-01-01 gbp         21228.      3.95e11 31819429092.</span>
<span class="co">#&gt; 3 bitcoin btc    Bitcoin 2021-01-01 usd         29022.      5.39e11 43503516563.</span></code></pre></div>
<p>The <code><a href="../reference/coin_history_range.html">coin_history_range()</a></code> function can be used to query a range of historical dates (specified by the <code>from</code> and <code>to</code> arguments, which expect POSIXct timestamps). The granularity of the returned data depends on the requested range. Hourly data will be retrieved for periods of up to 90 days, and daily data for periods that are longer than 90 days:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Range of less than 1 day:</span>
<span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 10:00:10"</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01 20:45:10"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 11 x 5</span>
<span class="co">#&gt;    timestamp           vs_currency price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;       &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2020-01-01 20:00:46 usd         7226. 18034097111. 131054114141.</span>
<span class="co">#&gt;  2 2020-01-01 19:09:39 usd         7234. 18082279778. 131291561459.</span>
<span class="co">#&gt;  3 2020-01-01 18:00:18 usd         7235. 17760548574. 131290371444.</span>
<span class="co">#&gt;  4 2020-01-01 17:00:34 usd         7216. 18563380452. 130600986770.</span>
<span class="co">#&gt;  5 2020-01-01 16:09:55 usd         7213. 18694377689. 130761256011.</span>
<span class="co">#&gt;  6 2020-01-01 15:00:24 usd         7221. 19536563317. 130659235317.</span>
<span class="co">#&gt;  7 2020-01-01 14:07:19 usd         7197. 19829886768. 130590596115.</span>
<span class="co">#&gt;  8 2020-01-01 13:05:26 usd         7203. 19252707591. 130621414174.</span>
<span class="co">#&gt;  9 2020-01-01 12:08:49 usd         7200. 19201215025. 130449996904.</span>
<span class="co">#&gt; 10 2020-01-01 11:05:36 usd         7199. 19197826855. 130544600075.</span>
<span class="co">#&gt; 11 2020-01-01 10:01:04 usd         7189. 19341132038. 130485645003.</span>

<span class="co"># Range of &gt;90 days:</span>
<span class="fu"><a href="../reference/coin_history_range.html">coin_history_range</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-01-01 00:00:00"</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2021-05-01 00:00:00"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 121 x 5</span>
<span class="co">#&gt;    timestamp           vs_currency  price total_volume market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-05-01 00:00:00 usd         57829. 53879045974.    1.08e12</span>
<span class="co">#&gt;  2 2021-04-30 00:00:00 usd         53597. 46958036373.    1.00e12</span>
<span class="co">#&gt;  3 2021-04-29 00:00:00 usd         54811. 48072930663.    1.02e12</span>
<span class="co">#&gt;  4 2021-04-28 00:00:00 usd         54992. 48468560013.    1.03e12</span>
<span class="co">#&gt;  5 2021-04-27 00:00:00 usd         53979. 60226926860.    1.01e12</span>
<span class="co">#&gt;  6 2021-04-26 00:00:00 usd         48981. 46233432154.    9.16e11</span>
<span class="co">#&gt;  7 2021-04-25 00:00:00 usd         50133. 49296256746.    9.37e11</span>
<span class="co">#&gt;  8 2021-04-24 00:00:00 usd         51191. 91138220375.    9.57e11</span>
<span class="co">#&gt;  9 2021-04-23 00:00:00 usd         51966. 77897442832.    9.71e11</span>
<span class="co">#&gt; 10 2021-04-22 00:00:00 usd         54190. 56115370322.    1.01e12</span>
<span class="co">#&gt; # … with 111 more rows</span></code></pre></div>
<p>To retrieve historical data from the last <em>n</em> days only, use the <code><a href="../reference/coin_history.html">coin_history()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">7</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 168 x 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-13 22:00:46 bitcoin usd         32664. 20213951791. 612595687986.</span>
<span class="co">#&gt;  2 2021-07-13 21:00:12 bitcoin usd         32496. 20329939777. 608289017070.</span>
<span class="co">#&gt;  3 2021-07-13 20:00:47 bitcoin usd         32419. 20489021295. 608551679761.</span>
<span class="co">#&gt;  4 2021-07-13 19:00:41 bitcoin usd         32599. 20779531381. 611307032045.</span>
<span class="co">#&gt;  5 2021-07-13 18:00:57 bitcoin usd         32837. 21005013569. 615798144338.</span>
<span class="co">#&gt;  6 2021-07-13 17:00:18 bitcoin usd         32849. 21355434733. 615930664027.</span>
<span class="co">#&gt;  7 2021-07-13 16:00:13 bitcoin usd         32871. 21870793078. 615257072075.</span>
<span class="co">#&gt;  8 2021-07-13 15:00:16 bitcoin usd         32614. 21718104390. 612594700033.</span>
<span class="co">#&gt;  9 2021-07-13 14:01:54 bitcoin usd         32618. 21537291078. 611766762534.</span>
<span class="co">#&gt; 10 2021-07-13 13:01:16 bitcoin usd         32482. 21068745364. 609924342167.</span>
<span class="co">#&gt; # … with 158 more rows</span></code></pre></div>
<p>In addition to numeric values, the <code>days</code> argument also accepts a character value <code>"max"</code>, which results in retrieving the entire existing history of market data for a coin (<em>please note:</em> querying the entire history can take some time):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="st">"max"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 2,997 x 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-13 17:16:01 bitcoin usd         32968. 21334410468. 618601407673.</span>
<span class="co">#&gt;  2 2021-07-12 00:00:00 bitcoin usd         34300. 17798828844. 643335853171.</span>
<span class="co">#&gt;  3 2021-07-11 00:00:00 bitcoin usd         33705. 20558304484. 632185737683.</span>
<span class="co">#&gt;  4 2021-07-10 00:00:00 bitcoin usd         33971. 24282108111. 637000370375.</span>
<span class="co">#&gt;  5 2021-07-09 00:00:00 bitcoin usd         32934. 29065577052. 617861633772.</span>
<span class="co">#&gt;  6 2021-07-08 00:00:00 bitcoin usd         33932. 23692220470. 636246944189.</span>
<span class="co">#&gt;  7 2021-07-07 00:00:00 bitcoin usd         34150. 26106856612. 640405812762.</span>
<span class="co">#&gt;  8 2021-07-06 00:00:00 bitcoin usd         33928. 25894820185. 636061920915.</span>
<span class="co">#&gt;  9 2021-07-05 00:00:00 bitcoin usd         35394. 22727930418. 663571591568.</span>
<span class="co">#&gt; 10 2021-07-04 00:00:00 bitcoin usd         34730. 22986053605. 650382046625.</span>
<span class="co">#&gt; # … with 2,987 more rows</span></code></pre></div>
<p>Notice the different data granularity in the last two examples. Generally, if <code>days = 1</code> the data will be presented for approximately every 3-8 minutes. If <code>days</code> is between 2 and 90 (inclusive), an hourly time step will be used. Daily data are used for <code>days</code> above 90. One can use the <code>interval</code> argument to control this granularity (by default, <code>interval = NULL</code>). However, at the moment the only value it accepts is <code>"daily"</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Within-day data, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">1</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 6</span>
<span class="co">#&gt;   timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt; 1 2021-07-13 22:00:46 bitcoin usd         32664. 20213951791. 612595687986.</span>
<span class="co">#&gt; 2 2021-07-13 00:00:00 bitcoin usd         33263. 21683885321. 623350567667.</span>

<span class="co"># Less than 90 days, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">10</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 11 x 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-13 21:59:42 bitcoin usd         32662. 20213174315. 612595687986.</span>
<span class="co">#&gt;  2 2021-07-13 00:00:00 bitcoin usd         33263. 21683885321. 623350567667.</span>
<span class="co">#&gt;  3 2021-07-12 00:00:00 bitcoin usd         34300. 17798828844. 643335853171.</span>
<span class="co">#&gt;  4 2021-07-11 00:00:00 bitcoin usd         33705. 20558304484. 632185737683.</span>
<span class="co">#&gt;  5 2021-07-10 00:00:00 bitcoin usd         33971. 24282108111. 637000370375.</span>
<span class="co">#&gt;  6 2021-07-09 00:00:00 bitcoin usd         32934. 29065577052. 617861633772.</span>
<span class="co">#&gt;  7 2021-07-08 00:00:00 bitcoin usd         33932. 23692220470. 636246944189.</span>
<span class="co">#&gt;  8 2021-07-07 00:00:00 bitcoin usd         34150. 26106856612. 640405812762.</span>
<span class="co">#&gt;  9 2021-07-06 00:00:00 bitcoin usd         33928. 25894820185. 636061920915.</span>
<span class="co">#&gt; 10 2021-07-05 00:00:00 bitcoin usd         35394. 22727930418. 663571591568.</span>
<span class="co">#&gt; 11 2021-07-04 00:00:00 bitcoin usd         34730. 22986053605. 650382046625.</span>

<span class="co"># More than 90 days, with `interval = "daily"`:</span>
<span class="fu"><a href="../reference/coin_history.html">coin_history</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>,
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">100</span>, 
  interval <span class="op">=</span> <span class="st">"daily"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 101 x 6</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency  price total_volume    market_cap</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-13 21:50:21 bitcoin usd         32653. 20225444775. 612473915835.</span>
<span class="co">#&gt;  2 2021-07-13 00:00:00 bitcoin usd         33263. 21683885321. 623350567667.</span>
<span class="co">#&gt;  3 2021-07-12 00:00:00 bitcoin usd         34300. 17798828844. 643335853171.</span>
<span class="co">#&gt;  4 2021-07-11 00:00:00 bitcoin usd         33705. 20558304484. 632185737683.</span>
<span class="co">#&gt;  5 2021-07-10 00:00:00 bitcoin usd         33971. 24282108111. 637000370375.</span>
<span class="co">#&gt;  6 2021-07-09 00:00:00 bitcoin usd         32934. 29065577052. 617861633772.</span>
<span class="co">#&gt;  7 2021-07-08 00:00:00 bitcoin usd         33932. 23692220470. 636246944189.</span>
<span class="co">#&gt;  8 2021-07-07 00:00:00 bitcoin usd         34150. 26106856612. 640405812762.</span>
<span class="co">#&gt;  9 2021-07-06 00:00:00 bitcoin usd         33928. 25894820185. 636061920915.</span>
<span class="co">#&gt; 10 2021-07-05 00:00:00 bitcoin usd         35394. 22727930418. 663571591568.</span>
<span class="co">#&gt; # … with 91 more rows</span></code></pre></div>
<p>The open-high-low-close (<a href="https://en.wikipedia.org/wiki/Open-high-low-close_chart">OHLC</a>) data characterise within-date and between-date price movements of a financial asset. In <code>geckor</code>, this type of data can be retrieved using the <code><a href="../reference/coin_history_ohlc.html">coin_history_ohlc()</a></code> function, which has the same arguments as <code><a href="../reference/coin_history.html">coin_history()</a></code>, except for not having the <code>interval</code> argument. The granularity of the retrieved data (i.e. candle’s body) depends on the value of <code>days</code> as follows:</p>
<ul>
<li><p>1 day: 30 minutes</p></li>
<li><p>7 - 30 days: 4 hours</p></li>
<li><p>31 and above: 4 days</p></li>
</ul>
<p>The only values currently accepted by the <code>days</code> argument are 1, 7, 14, 30, 90, 180, 365 and <code>"max"</code>. Here are some examples:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 30-minutes granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">1</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 49 x 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-12 22:00:00 bitcoin usd             32907.     32980.    32884 </span>
<span class="co">#&gt;  2 2021-07-12 22:30:00 bitcoin usd             32993.     33119.    32989.</span>
<span class="co">#&gt;  3 2021-07-12 23:00:00 bitcoin usd             33155.     33155.    33139.</span>
<span class="co">#&gt;  4 2021-07-12 23:30:00 bitcoin usd             33153      33176.    33025.</span>
<span class="co">#&gt;  5 2021-07-13 00:00:00 bitcoin usd             33277.     33290.    33179.</span>
<span class="co">#&gt;  6 2021-07-13 00:30:00 bitcoin usd             33261.     33261.    32992.</span>
<span class="co">#&gt;  7 2021-07-13 01:00:00 bitcoin usd             33068.     33251.    33068.</span>
<span class="co">#&gt;  8 2021-07-13 01:30:00 bitcoin usd             33197.     33197.    33050.</span>
<span class="co">#&gt;  9 2021-07-13 02:00:00 bitcoin usd             33075.     33246.    33075.</span>
<span class="co">#&gt; 10 2021-07-13 02:30:00 bitcoin usd             33245.     33301.    33193.</span>
<span class="co">#&gt; # … with 39 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-hours granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">7</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 43 x 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-07-07 00:00:00 bitcoin usd             33790.     34147.    33790.</span>
<span class="co">#&gt;  2 2021-07-07 04:00:00 bitcoin usd             34198.     34251.    34198.</span>
<span class="co">#&gt;  3 2021-07-07 08:00:00 bitcoin usd             34480.     34860.    34480.</span>
<span class="co">#&gt;  4 2021-07-07 12:00:00 bitcoin usd             34857.     34857.    34685.</span>
<span class="co">#&gt;  5 2021-07-07 16:00:00 bitcoin usd             34896.     34896.    34646.</span>
<span class="co">#&gt;  6 2021-07-07 20:00:00 bitcoin usd             34596.     34751.    34596.</span>
<span class="co">#&gt;  7 2021-07-08 00:00:00 bitcoin usd             34721.     34721.    34247.</span>
<span class="co">#&gt;  8 2021-07-08 04:00:00 bitcoin usd             33932.     33932.    33310.</span>
<span class="co">#&gt;  9 2021-07-08 08:00:00 bitcoin usd             33422.     33422.    33189.</span>
<span class="co">#&gt; 10 2021-07-08 12:00:00 bitcoin usd             32420.     32706.    32420.</span>
<span class="co">#&gt; # … with 33 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-days granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="fl">90</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 25 x 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2021-04-15 00:00:00 bitcoin usd             62807.     62807.    62807.</span>
<span class="co">#&gt;  2 2021-04-19 00:00:00 bitcoin usd             63180.     63180.    56289.</span>
<span class="co">#&gt;  3 2021-04-23 00:00:00 bitcoin usd             55721.     56295.    51966.</span>
<span class="co">#&gt;  4 2021-04-27 00:00:00 bitcoin usd             51191.     53979.    48981.</span>
<span class="co">#&gt;  5 2021-04-30 00:00:00 bitcoin usd             54992.     54992.    53597.</span>
<span class="co">#&gt;  6 2021-05-03 00:00:00 bitcoin usd             57829.     57829.    56601.</span>
<span class="co">#&gt;  7 2021-05-07 00:00:00 bitcoin usd             57200.     57432.    53464.</span>
<span class="co">#&gt;  8 2021-05-11 00:00:00 bitcoin usd             57362.     58772.    55902.</span>
<span class="co">#&gt;  9 2021-05-15 00:00:00 bitcoin usd             56929.     56929.    49913.</span>
<span class="co">#&gt; 10 2021-05-19 00:00:00 bitcoin usd             46781.     46781.    43091.</span>
<span class="co">#&gt; # … with 15 more rows, and 1 more variable: price_close &lt;dbl&gt;</span>

<span class="co"># 4-days granularity:</span>
<span class="fu"><a href="../reference/coin_history_ohlc.html">coin_history_ohlc</a></span><span class="op">(</span>
  coin_id <span class="op">=</span> <span class="st">"bitcoin"</span>, 
  vs_currency <span class="op">=</span> <span class="st">"usd"</span>,
  days <span class="op">=</span> <span class="st">"max"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 783 x 7</span>
<span class="co">#&gt;    timestamp           coin_id vs_currency price_open price_high price_low</span>
<span class="co">#&gt;    &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013-04-30 00:00:00 bitcoin usd               135.       142.     135. </span>
<span class="co">#&gt;  2 2013-05-03 00:00:00 bitcoin usd               117        117       91.0</span>
<span class="co">#&gt;  3 2013-05-07 00:00:00 bitcoin usd               111.       118.     106. </span>
<span class="co">#&gt;  4 2013-05-11 00:00:00 bitcoin usd               113.       119.     113. </span>
<span class="co">#&gt;  5 2013-05-15 00:00:00 bitcoin usd               115.       117.     114. </span>
<span class="co">#&gt;  6 2013-05-19 00:00:00 bitcoin usd               116.       124.     116. </span>
<span class="co">#&gt;  7 2013-05-23 00:00:00 bitcoin usd               123.       126.     123. </span>
<span class="co">#&gt;  8 2013-05-27 00:00:00 bitcoin usd               132.       135.     129. </span>
<span class="co">#&gt;  9 2013-05-31 00:00:00 bitcoin usd               129.       132.     127. </span>
<span class="co">#&gt; 10 2013-06-03 00:00:00 bitcoin usd               129.       129.     121. </span>
<span class="co">#&gt; # … with 773 more rows, and 1 more variable: price_close &lt;dbl&gt;</span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sergey Mastitsky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
